---
layout:     post
title:      sqlä¼˜åŒ–
subtitle:   sqlè¯­å¥ä¼˜åŒ–
date:       2018-10-22
author:     LY
header-img: img/post-bg-debug.png
catalog: true
tags:
    - java
    - è½¬è½½
    - sql
---

> æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„ä»¥ä¸‹ä¸»é¡µï¼Œå°¤å…¶æ˜¯ä»Šæ—¥å¤´æ¡ï¼ï¼ï¼è°¢è°¢ğŸ™ğŸ™ğŸ™
>
> csdnï¼š[é›·å›­çš„csdnåšå®¢](https://blog.csdn.net/leiyuan2580)
>
> ä¸ªäººåšå®¢ï¼š[é›·å›­çš„ä¸ªäººåšå®¢](https://imlcl.store)
>
> ç®€ä¹¦ï¼š[é›·å›­çš„ç®€ä¹¦](https://www.jianshu.com/u/016322e40e1f)
>
> ä»Šæ—¥å¤´æ¡ï¼š[æ¥è‡ªåº•å±‚ç¨‹åºå‘˜çš„ä»°æœ›](https://www.toutiao.com/c/user/6132192948/#mid=1616456407686158)

# ç»“è®º1ï¼šæ¡†æ¶è‡ªå¸¦çš„æ¨¡å‹æŸ¥è¯¢æ¯”åŸç”Ÿçš„sqlè¦æ…¢å¾ˆå¤šï¼ˆæˆç«‹ï¼‰

è¿™é‡Œæˆ‘ä»¬é€šè¿‡microtime()å‡½æ•°æ¥è·å–æ‰§è¡ŒsqlæŸ¥è¯¢æ‰€éœ€è¦çš„æ—¶é—´   

![img](https:////upload-images.jianshu.io/upload_images/13091615-f8abbf2b68f1a16b.png)

laravelè‡ªå¸¦çš„sqlæŸ¥è¯¢



![img](https:////upload-images.jianshu.io/upload_images/13091615-5a86275d7678dd85.png)

æŸ¥è¯¢æ—¶é—´ä¸º5.29ç§’



![img](https:////upload-images.jianshu.io/upload_images/13091615-de1e2c9c56f391bf.png)

åŸç”Ÿsqlè¯­å¥



![img](https:////upload-images.jianshu.io/upload_images/13091615-ca6b5a8e98d1ba33.png)

æŸ¥è¯¢æ—¶é—´ä¸º0.29ç§’

â€‹    é€šè¿‡ä¸Šå›¾çš„ä¸¤æ¡sqlè¿è¡Œæ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºæ¡†æ¶è‡ªå¸¦çš„æŸ¥è¯¢è€—æ—¶å¤§çº¦5.29ç§’ï¼Œè€ŒåŸç”Ÿçš„sqlåªéœ€è¦0.29ç§’.

# ç»“è®º2ï¼šæœ€å¥½ä¸è¦ç»™æ•°æ®åº“ç•™NULLï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ NOT NULLå¡«å……æ•°æ®åº“ï¼ˆå¾…å®šï¼‰

â€‹        æµ‹è¯•çš„æ•°æ®åº“ä¸­ actual_scheduling_bacthçš„æ•°æ®ç±»å‹æ˜¯varcharï¼ˆ255ï¼‰

â€‹        $sql ="select * from `dye_production_schedules` where `actual_scheduling_bacth` is null";

â€‹        sqlæ‰§è¡Œæ—¶é—´ä¸º0.59701204299927ç§’

â€‹        $sql ="select * from `dye_production_schedules` where `actual_scheduling_bacth` = 0";

â€‹        sqlæ‰§è¡Œæ—¶é—´ä¸º0.62539100646973ç§’

â€‹        å¯¹äºvarchar å­—æ®µæ¥è¯´ null æ˜¯ä¸å ç”¨ä»»ä½•ç©ºé—´çš„ï¼ŒæŸ¥è¯¢èµ·æ¥åè€Œè¿˜è¦å¿«ï¼Œå› æ­¤åƒè¯„è®ºæˆ–è€…æè¿°è¿™äº›æˆ‘ä»¬å¯ä»¥ç”¨nullï¼Œå…¶ä»–çš„å¹¶ä¸æ¨èï¼Œä½†æ˜¯å¯¹äºcharï¼ˆ100ï¼‰æ¥è¯´ï¼Œå“ªæ€•æ˜¯nullä¹Ÿä¼šå ç”¨100å­—èŠ‚ç©ºé—´

# 3.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ != æˆ– <> æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼ˆæˆç«‹ï¼‰



![img](https:////upload-images.jianshu.io/upload_images/13091615-2b339a12328e90fd.png)



â€‹        å¯¹äºä¸Šé¢ä¸¤æ¡sqlæ¥è¯´ 

â€‹        id != 6055  çš„sqlæ‰§è¡Œæ—¶é—´ä¸º0.54877090454102ç§’

â€‹        id>6055 or id<6055 çš„sqlæ‰§è¡Œæ—¶é—´ä¸º0.0015900135040283ç§’

# 4.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ or æ¥è¿æ¥æ¡ä»¶ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µæœ‰ç´¢å¼•ï¼Œä¸€ä¸ªå­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œå°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼ˆå¾…å®šï¼‰

â€‹         $sql1="select id from `dye_production_schedules` where id >  1666 and order_detail_id = 6891";

â€‹        $sql2 ="select id from `dye_production_schedules` where id > 1666  union all select id from `dye_production_schedules` where order_detail_id = 6891";

â€‹        å¥½å§$sql2åè€Œè¿˜æ…¢

# 5.in å’Œ not in ä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼ˆå¾…å®šï¼‰

â€‹    å¯¹äºè¿ç»­çš„æ•°å€¼ï¼Œèƒ½ç”¨ between å°±ä¸è¦ç”¨ in äº†ï¼š

â€‹        $sql1 ="select id from `dye_production_schedules` where product_id in (2401,2402.2403)";

â€‹        $sql2 ="select id from `dye_production_schedules` where product_id between 2400 and 2404";

â€‹    å¥½å§è¿™ä¸¤æ¡æ‰§è¡Œé€Ÿåº¦æä¸ºç›¸è¿‘   sqlæ‰§è¡Œæ—¶é—´ä¸º0.00124192237854ç§’

# 6.%abc%çš„æŸ¥è¯¢ä¹Ÿå°†å¯¼è‡´å…¨è¡¨æ‰«æ

â€‹    select id from t where name likeâ€˜%abc%â€™

# 7. sqlå­å¥ä¸­å°½é‡ä¸è¦è¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¡¨è¾¾å¼æ“ä½œ

.8Update è¯­å¥ï¼Œå¦‚æœåªæ›´æ”¹1ã€2ä¸ªå­—æ®µï¼Œä¸è¦Updateå…¨éƒ¨å­—æ®µï¼Œå¦åˆ™é¢‘ç¹è°ƒç”¨ä¼šå¼•èµ·æ˜æ˜¾çš„æ€§èƒ½æ¶ˆè€—ï¼ŒåŒæ—¶å¸¦æ¥å¤§é‡æ—¥å¿—ã€‚

# 8.å°½å¯èƒ½çš„ä½¿ç”¨ varchar ä»£æ›¿ char ï¼Œ

â€‹    å› ä¸ºé¦–å…ˆå˜é•¿å­—æ®µå­˜å‚¨ç©ºé—´å°ï¼Œå¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå…¶æ¬¡å¯¹äºæŸ¥è¯¢æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„å­—æ®µå†…æœç´¢æ•ˆç‡æ˜¾ç„¶è¦é«˜äº›ã€‚ 

# 9.ä»»ä½•åœ°æ–¹éƒ½ä¸è¦ä½¿ç”¨ select * from t ï¼Œç”¨å…·ä½“çš„å­—æ®µåˆ—è¡¨ä»£æ›¿â€œ*â€ï¼Œä¸è¦è¿”å›ç”¨ä¸åˆ°çš„ä»»ä½•å­—æ®µã€‚

# 10å°½é‡é¿å…å‘å®¢æˆ·ç«¯è¿”å›å¤§æ•°æ®é‡ï¼Œè‹¥æ•°æ®é‡è¿‡å¤§ï¼Œåº”è¯¥è€ƒè™‘ç›¸åº”éœ€æ±‚æ˜¯å¦åˆç†ã€‚

â€‹        æ‰¹é‡å¤„ç†æ•°æ®ï¼ˆå¯åˆ†æ‰¹å‘ç¼“å­˜ä¸­å­˜è´®ï¼‰é¿å…æ•°ç»„ç››æ”¾è¿‡å¤šçš„æ•°æ® ç»™æœåŠ¡å™¨é€ æˆå·¨å¤§çš„å‹åŠ›



![img](https:////upload-images.jianshu.io/upload_images/13091615-6e7a2f6fa3ebc595.png)



>
>
> ä½œè€…ï¼šæœºæ™ºçš„æ˜
>
> é“¾æ¥ï¼šhttps://www.jianshu.com/p/06948343681b
>
> ä¾†æºï¼šç®€ä¹¦
>
> ç®€ä¹¦è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒå¹¶æ³¨æ˜å‡ºå¤„ã€‚